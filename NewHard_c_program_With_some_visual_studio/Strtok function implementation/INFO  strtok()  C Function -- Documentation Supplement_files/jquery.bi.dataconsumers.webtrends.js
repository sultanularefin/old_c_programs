(function(n){n.bi.dataConsumers.webtrends={_settings:null,init:function(n){this._settings=n,typeof window.WebTrends!="undefined"&&(this.WebTrends=new WebTrends)},record:function(t){this.WebTrends&&n.bi.isInteractionTypeValid(t,this._settings)&&(t=this._mapInteractionType(t),this.WebTrends.dcsJSONTrack({},this._map(t)))},recordLoad:function(t){if(this.WebTrends&&n.bi.isInteractionTypeValid(t,this._settings)){try{this.WebTrends.dcsCollect()}catch(i){}t=this._mapInteractionType(t),this.WebTrends.dcsJSONTrack({"DCS.dcssip":window.location.hostname,"DCS.dcsuri":window.location.pathname,"DCS.dcsqry":window.location.search},this._map(t))}},_mapInteractionType:function(t){var i=n.extend({},t);return i.interactiontype!=undefined&&this._settings.interactionTypeMap[i.interactiontype]!=undefined&&(i.interactiontype=this._settings.interactionTypeMap[i.interactiontype]),i.triggertype!=undefined&&this._settings.interactionTypeMap[i.triggertype]!=undefined&&(i.triggertype=this._settings.interactionTypeMap[i.triggertype]),i},_map:function(t){return n.bi.mapData(t,this._settings.parameterMap)}}})(jQuery);